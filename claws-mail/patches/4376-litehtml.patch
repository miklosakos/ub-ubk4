From e19ab0f1fda84f78eeb7b901548438441967bef6 Mon Sep 17 00:00:00 2001
From: Paul <paul@claws-mail.org>
Date: Thu, 1 Oct 2020 16:52:02 +0100
Subject: [PATCH 1/1] fix bug 4376, 'Litehtml breaks locale'

---
 src/plugins/litehtml_viewer/litehtml/html_tag.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/plugins/litehtml_viewer/litehtml/html_tag.cpp b/src/plugins/litehtml_viewer/litehtml/html_tag.cpp
index f856b1e81..a93038b53 100644
--- a/src/plugins/litehtml_viewer/litehtml/html_tag.cpp
+++ b/src/plugins/litehtml_viewer/litehtml/html_tag.cpp
@@ -81,7 +81,7 @@ void litehtml::html_tag::set_attr( const tchar_t* name, const tchar_t* val )
 	if(name && val)
 	{
 		tstring s_val = name;
-		std::locale lc = std::locale::global(std::locale::classic());
+		std::locale lc = std::locale::global(std::locale(""));
 		for(size_t i = 0; i < s_val.length(); i++)
 		{
 			s_val[i] = std::tolower(s_val[i], lc);
@@ -2017,7 +2017,7 @@ bool litehtml::html_tag::is_break() const
 void litehtml::html_tag::set_tagName( const tchar_t* tag )
 {
 	tstring s_val = tag;
-	std::locale lc = std::locale::global(std::locale::classic());
+	std::locale lc = std::locale::global(std::locale(""));
 	for(size_t i = 0; i < s_val.length(); i++)
 	{
 		s_val[i] = std::tolower(s_val[i], lc);
-- 
2.17.1
